webpackJsonp([6],{25:function(e,t,o){var n,r;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(this&&this[n]||n);else if(Array.isArray(n))e.push(o.apply(this,n));else if("object"===r)for(var a in n)s.call(n,a)&&n[a]&&e.push(this&&this[a]||a)}}return e.join(" ")}var s={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=o:(n=[],r=function(){return o}.apply(t,n),!(void 0!==r&&(e.exports=r)))}()},34:function(e,t,o){"use strict";var n=o(1),r=o(56),s=o(55),a=o(14),i=n.PropTypes,u=i.shape({getLocale:i.func,onLocaleChange:i.func,offLocaleChange:i.func,translate:i.func}),l=n.createClass({displayName:"Translate",contextTypes:{translator:u},propTypes:{locale:i.string,count:i.number,content:i.oneOfType([i.string,i.arrayOf(i.string)]),scope:i.oneOfType([i.string,i.arrayOf(i.string)]),attributes:i.object},statics:{textContentComponents:["title","option","textarea"]},getDefaultProps:function(){return{component:"span"}},getInitialState:function(){return{locale:this.getTranslator().getLocale()}},getTranslator:function(){return this.context.translator||s},componentDidMount:function(){this.props.locale||this.getTranslator().onLocaleChange(this.localeChanged)},componentWillUnmount:function(){this.props.locale||this.getTranslator().offLocaleChange(this.localeChanged)},localeChanged:function(e){this.setState({locale:e})},render:function(){var e=this.getTranslator(),t=l.textContentComponents.indexOf(this.props.component)>-1,o=t||this.props.unsafe===!0,s=a({locale:this.state.locale},this.props,{interpolate:o});if(s.attributes){for(var i in s.attributes)s.attributes[i]&&(s[i]=e.translate(s.attributes[i],s));delete s.attributes}if(s.content){var u=e.translate(s.content,s);return delete s.content,delete s.locale,delete s.scope,delete s.children,delete s.interpolate,n.createElement(r,s,u)}return delete s.locale,delete s.scope,delete s.interpolate,n.createElement(s.component,s)}});e.exports=l,e.exports.translate=function(e,t){return n.createElement(l,a({},t,{content:e}))},e.exports.translatorType=u},35:function(e,t,o){var n,r;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n))e.push(o.apply(null,n));else if("object"===r)for(var a in n)s.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}var s={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=o:(n=[],r=function(){return o}.apply(t,n),!(void 0!==r&&(e.exports=r)))}()},56:function(e,t,o){"use strict";function n(e){return"[object String]"===Object.prototype.toString.call(e)}var r=o(1),s=o(57),a=o(112),i=/\%\((.+?)\)s/,u=["children","format","component","unsafe"],l=r.createClass({displayName:"Interpolate",getDefaultProps:function(){return{component:"span"}},render:function(){var e=this.props.children,t=this.props.component,o=this.props.unsafe===!0,l=a(this.props,u),c=[],d=[];if(n(e)||(e=this.props.format),s(n(e),"Interpolate expects either a format string as only child or a `format` prop with a string value"),o){var p=e.split(i).reduce(function(e,t,o){var n;if(o%2===0?n=t:(n=l[t],c.push(t)),r.isValidElement(n))throw new Error("cannot interpolate a React component into unsafe text");return e+=n},"");l.dangerouslySetInnerHTML={__html:p}}else e.split(i).reduce(function(e,t,o){var n;if(o%2===0){if(0===t.length)return e;n=t}else n=l[t],c.push(t);return e.push(n),e},d);return l=a(l,c),r.createElement.apply(this,[t,l].concat(d))}});e.exports=l},57:function(e,t,o){"use strict";function n(e,t,o,n,r,s,a,i){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[o,n,r,s,a,i],c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}e.exports=n},67:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LoaderSmall=void 0;var r=o(2),s=n(r),a=o(3),i=n(a),u=o(4),l=n(u),c=o(6),d=n(c),p=o(5),f=n(p),h=o(1),m=n(h),_=o(35),v=n(_),y=o(97),b=n(y),P=function(e){function t(){return(0,i["default"])(this,t),(0,d["default"])(this,(0,s["default"])(t).apply(this,arguments))}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return m["default"].createElement("div",{className:b["default"].spinner})}}]),t}(m["default"].Component);t.LoaderSmall=function(){return m["default"].createElement("div",{className:(0,v["default"])(b["default"].spinner,b["default"].spinnerSmall)})};t["default"]=P},97:function(e,t){e.exports={spinner:"Loader__spinner___1FNks",rotation:"Loader__rotation___1di0_",spinnerSmall:"Loader__spinnerSmall___36DvX"}},130:function(e,t){e.exports={blockTitle:"Headers__blockTitle___2fWPR",blockTitleRight:"Headers__blockTitleRight___1nnBC",separator:"Headers__separator___2tvoQ",navLink:"Headers__navLink___3db0w",navItem:"Headers__navItem___2_60-",feedUser:"Headers__feedUser___22aAF",postsUser:"Headers__postsUser___60Fy7",pick:"Headers__pick___nhxvN",param:"Headers__param___3D2yp",selected:"Headers__selected___3naBL"}},131:function(e,t){e.exports={noData:"NoData__noData___1ZqUH"}},159:function(e,t){e.exports={first:"Post__first___1vs_C",post:"Post__post___86SMz",time:"Post__time___66xaN",text:"Post__text___2mLFW",feedText:"Post__feedText___JN9xK",fav:"Post__fav___17Ls3",like:"Post__like___2hm7L",hot:"Post__hot___1lhcq",hotYellow:"Post__hotYellow___1_RV9",comment:"Post__comment___1N499",commentText:"Post__commentText___3S8MK",commentTime:"Post__commentTime___mxM6B",commentAuthor:"Post__commentAuthor___2DYAn",removeComment:"Post__removeComment___3b9lK",photo:"Post__photo___369eI",attachmentPhoto:"Post__attachmentPhoto___3zP5A",removeButton:"Post__removeButton___2k8YK",hideOnHover:"Post__hideOnHover___X0s1T"}},219:function(e,t){e.exports={header:"WriteBox__header___33M5X",right:"WriteBox__right___TxJUs",greeting:"WriteBox__greeting___2y1fo",action:"WriteBox__action___3bdNj",avatar:"WriteBox__avatar___QcQ0_",container:"WriteBox__container___26Q-3",attachForm:"WriteBox__attachForm___3qLL9",additional:"WriteBox__additional___1fCbd",photoHolder:"WriteBox__photoHolder___2zHyj",photoTitle:"WriteBox__photoTitle___2gs1t",addPhoto:"WriteBox__addPhoto___1LQeH",plus:"WriteBox__plus___2j__W",attachPreview:"WriteBox__attachPreview___Seaz6",button:"WriteBox__button___DTbeF",buttonSubmit:"WriteBox__buttonSubmit___1D1-U"}},227:function(e,t){function o(e){return!!e&&"object"==typeof e}function n(e,t){var o=null==e?void 0:e[t];return a(o)?o:void 0}function r(e){return s(e)&&p.call(e)==i}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null==e?!1:r(e)?f.test(c.call(e)):o(e)&&u.test(e)}var i="[object Function]",u=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,d=l.hasOwnProperty,p=l.toString,f=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},230:function(e,t){/*!
	 * Adapted from jQuery UI core
	 *
	 * http://jqueryui.com
	 *
	 * Copyright 2014 jQuery Foundation and other contributors
	 * Released under the MIT license.
	 * http://jquery.org/license
	 *
	 * http://api.jqueryui.com/category/ui-core/
	 */
function o(e,t){var o=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(o)?!e.disabled:"a"===o?e.href||t:t)&&r(e)}function n(e){return e.offsetWidth<=0&&e.offsetHeight<=0||"none"===e.style.display}function r(e){for(;e&&e!==document.body;){if(n(e))return!1;e=e.parentNode}return!0}function s(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&o(e,!n)}function a(e){return[].slice.call(e.querySelectorAll("*"),0).filter(function(e){return s(e)})}e.exports=a},231:function(e,t,o){function n(e,t,o){for(var n=-1,r=a(t),s=r.length;++n<s;){var i=r[n],u=e[i],l=o(u,t[i],i,e,t);(l===l?l===u:u!==u)&&(void 0!==u||i in e)||(e[i]=l)}return e}var r=o(368),s=o(372),a=o(400),i=s(function(e,t,o){return o?n(e,t,o):r(e,t)});e.exports=i},254:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),s=n(r),a=o(3),i=n(a),u=o(4),l=n(u),c=o(6),d=n(c),p=o(5),f=n(p),h=o(1),m=n(h),_=o(17),v=function(e){function t(){(0,i["default"])(this,t);var e=(0,d["default"])(this,(0,s["default"])(t).call(this));return e.timePassed=_.timePassed,e}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"componentWillUpdate",value:function(){var e=new Date(this.props.time),t=e/1e3/60/60;return t>1?!1:(console.log(e/1e3/60/60),!0)}},{key:"tickTime",value:function(){var e=new Date(this.props.time),t=this.timePassed(e);this.setState({time:t.pronounce})}},{key:"componentDidMount",value:function(){this.loadInterval=setInterval(this.tickTime.bind(this),1e3)}},{key:"componentWillUnmount",value:function(){this.loadInterval&&clearInterval(this.loadInterval),this.loadInterval=!1}},{key:"componentWillMount",value:function(){this.setState({time:""}),this.tickTime()}},{key:"render",value:function(){return m["default"].createElement("span",null,this.state.time)}}]),t}(h.Component);v.propTypes={time:h.PropTypes.string.isRequired},t["default"]=v},294:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),s=n(r),a=o(3),i=n(a),u=o(4),l=n(u),c=o(6),d=n(c),p=o(5),f=n(p),h=o(1),m=n(h),_=o(159),v=n(_),y=function(e){function t(){return(0,i["default"])(this,t),(0,d["default"])(this,(0,s["default"])(t).apply(this,arguments))}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e={fontSize:(this.props.text.length>100,"16px")};return m["default"].createElement("span",{className:v["default"].text,style:e,dangerouslySetInnerHTML:{__html:this.props.text}})}}]),t}(h.Component);y.propTypes={text:h.PropTypes.string.isRequired},t["default"]=y},304:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),s=n(r),a=o(3),i=n(a),u=o(4),l=n(u),c=o(6),d=n(c),p=o(5),f=n(p),h=o(1),m=n(h),_=o(362),v=n(_),y=["😀","😬","😁","😂","😃","😄","😅","😆","😇","😉","😊","🙂","😋","😌","😍","😘","😗","😙","😚","😜","😝","😛","🤑","🤓","😎","🤗","😏","😶","😐","😑","😒","🙄","🤔","😳","😞","😟","😠","😡","😔","😕","😣","😖","😫","😩","😤","😮","😱","😨","😰","😯","😦","😧","😢","😥","😪","😓","😭","😲","🤐","😷","🤒","🤕","😴","💤","💩","😈","👿","👹","👺","💀","👻","👽","🤖","😺","😸","😹","😻","😽","🙀","😿","😾","🙌","👏","👋","👍","👊","✊","👌","✋","💪","🙏","👆","👇","👈","👉","🖕","🤘","💅"],b=function(e){function t(){return(0,i["default"])(this,t),(0,d["default"])(this,(0,s["default"])(t).apply(this,arguments))}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"componentWillMount",value:function(){this.setState({style:{}})}},{key:"showBox",value:function(){this.setState({style:{visibility:"visible",display:"block"}})}},{key:"hideBox",value:function(){this.setState({style:{visibility:"hidden",display:"none"}});var e=this;setTimeout(function(){e.setState({style:{display:"block"}})},500)}},{key:"addSmile",value:function(e){var t=document.getElementById("text-form");t.innerHTML=t.innerHTML+e+" ",this.hideBox()}},{key:"render",value:function(){var e=this;return m["default"].createElement("div",null,m["default"].createElement("div",{className:v["default"].button,onMouseOver:function(){return e.showBox()}}),m["default"].createElement("div",{className:v["default"].list,style:this.state.style},y.map(function(t){return m["default"].createElement("div",{className:v["default"].smile,onClick:function(){return e.addSmile(t)},key:t},t)})))}}]),t}(h.Component);t["default"]=b},305:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),s=n(r),a=o(3),i=n(a),u=o(4),l=n(u),c=o(6),d=n(c),p=o(5),f=n(p),h=o(1),m=n(h),_=o(363),v=n(_),y=o(17),b=function(e){function t(){return(0,i["default"])(this,t),(0,d["default"])(this,(0,s["default"])(t).apply(this,arguments))}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return e.username!==this.props.username}},{key:"componentWillMount",value:function(){this.setState({opacity:{opacity:.5,display:"block"},focused:!1})}},{key:"boxFocus",value:function(){return this.state.focused?!1:(this.setState({opacity:{opacity:1,display:"none"},focused:!0}),void this.forceUpdate())}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){(0,y.focusDiv)(document.querySelector("#text-form"))},100),document.onkeypress=function(){e.state.focused||e.boxFocus()}}},{key:"render",value:function(){var e=m["default"].createElement("div",{style:this.state.opacity,className:v["default"].placeHolder},"block"===this.state.display&&m["default"].createElement("span",null,"Мнение о @",this.props.alias));return m["default"].createElement("div",{className:v["default"].wrap},m["default"].createElement("div",{contentEditable:!0,suppressContentEditableWarning:!0,className:v["default"].textBox,id:"text-form",onMouseDown:this.boxFocus.bind(this),autoFocus:!0,spellCheck:!1},e))}}]),t}(h.Component);b.propTypes={username:h.PropTypes.string.isRequired,alias:h.PropTypes.string.isRequired},t["default"]=b},306:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),s=n(r),a=o(3),i=n(a),u=o(4),l=n(u),c=o(6),d=n(c),p=o(5),f=n(p),h=o(1),m=n(h),_=o(31),v=o(219),y=n(v),b=function(e){function t(){return(0,i["default"])(this,t),(0,d["default"])(this,(0,s["default"])(t).apply(this,arguments))}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return!0}},{key:"selectPhoto",value:function(e){this.photoInput.click()}},{key:"attachPhoto",value:function(e){var t=this.photoForm;console.log(t);var o=new FormData;o.append("file",t[0].files[0]);var n=document.querySelector("#attach-preview"),r=(document.querySelector("#attach-block"),new FileReader);r.onload=function(){var e=document.querySelector("#background");e.style.background="url("+r.result+")"},t[0].files[0]?r.readAsDataURL(t[0].files[0]):(console.log("not working"),n.src=""),fetch(_.config.http+"/upload/photo",{method:"post",body:o}).then(function(e){return e.json()}).then(function(e){document.querySelector("#input-value").value=e.url,console.log(document.querySelector("#input-value").value)})["catch"](function(e){console.log("Error catched while attaching a photo",e)})}},{key:"render",value:function(){var e=this;return m["default"].createElement("div",{className:y["default"].photoHolder,onClick:this.selectPhoto.bind(this)},m["default"].createElement("div",{className:y["default"].photoTitle},"Прикрепить"),m["default"].createElement("div",{className:y["default"].addPhoto}),m["default"].createElement("form",{ref:function(t){return e.photoForm=t},encType:"multipart/form-data",method:"post",className:y["default"].attachForm},m["default"].createElement("input",{type:"file",onChange:this.attachPhoto.bind(this),ref:function(t){return e.photoInput=t}}),m["default"].createElement("input",{id:"input-value"})))}}]),t}(h.Component);t["default"]=b},307:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",overflowY:"hidden"},content:{top:"50%",left:"50%",right:"auto",border:"none",minHeight:"400px",height:"70%",maxHeight:"1200px",background:"transparent",overflow:"auto",WebkitOverflowScrolling:"auto",marginRight:"-50%",maxWidth:"320px",padding:"0px",transform:"translate(-51%, -50%)",trasnition:"opacity 0.1s, transform 0.3s cubic-bezier(0.17, -0.65, 0.665, 1.25), -webkit-transform 0.3s cubic-bezier(0.17, -0.65, 0.665, 1.25)"}};t["default"]=o},308:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{alias:e.user.alias,username:e.user.username,photo:e.user.photo,isYourPage:e.auth.isYourPage}}Object.defineProperty(t,"__esModule",{value:!0});var s=o(2),a=n(s),i=o(3),u=n(i),l=o(4),c=n(l),d=o(6),p=n(d),f=o(5),h=n(f),m=o(1),_=n(m),v=o(219),y=n(v),b=o(10),P=o(172),g=o(399),k=n(g),T=o(306),x=n(T),C=o(307),E=n(C),M=o(305),N=n(M),w=o(304),O=(n(w),o(17)),R=function(e){function t(e){(0,u["default"])(this,t);var o=(0,p["default"])(this,(0,a["default"])(t).call(this,e));return o.state={username:void 0,text:"",created_by:void 0,isOpen:!1,photo:void 0},o}return(0,h["default"])(t,e),(0,c["default"])(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({username:e.username,created_by:e.alias,text:"",isOpen:e.isOpen||!1})}},{key:"handleSubmitButton",value:function(e){var t=document.querySelector("#text-form"),o=document.querySelector("#input-value").value,n=document.querySelector("#attach-preview"),r=document.querySelector("#attach-block"),s=t.textContent;return console.log(s),o||s||t.focus(),/^\s+$/.test(s)?t.focus():(this.props.sendPost(s,o),t.value="",n.src="",r.classList.add("hidden"),void this.props.toggleModalBox())}},{key:"render",value:function(){return _["default"].createElement(k["default"],{isOpen:this.props.isOpen,style:E["default"],onRequestClose:this.props.toggleModalBox,closeTimeoutMS:300},_["default"].createElement("div",{className:y["default"].container},_["default"].createElement(S,{username:this.props.username,photo:this.props.photo}),_["default"].createElement(N["default"],{username:this.props.username,alias:this.props.alias}),_["default"].createElement("div",{id:"attach-block",className:"hidden"},_["default"].createElement("div",{className:y["default"].plus},"+"),_["default"].createElement("img",{id:"attach-preview",className:y["default"].attachPreview})),_["default"].createElement("div",{className:y["default"].additional},_["default"].createElement(x["default"],null),_["default"].createElement("div",{className:y["default"].buttonSubmit,onClick:this.handleSubmitButton.bind(this)},"Отправить"))))}}]),t}(m.Component);R.propTypes={sendPost:m.PropTypes.func.isRequired,alias:m.PropTypes.string.isRequired,username:m.PropTypes.string.isRequired,photo:m.PropTypes.string.isRequired,isYourPage:m.PropTypes.bool.isRequired,isOpen:m.PropTypes.bool.isRequired,toggleModalBox:m.PropTypes.func.isRequired};var S=function(e){var t=e.username,o=e.photo;return _["default"].createElement("div",{className:y["default"].header},_["default"].createElement("div",{className:y["default"].left},_["default"].createElement("img",{src:(0,O.isValidPhoto)(o),className:y["default"].avatar})),_["default"].createElement("div",{className:y["default"].right},_["default"].createElement("div",{className:y["default"].greeting},t),_["default"].createElement("div",{className:y["default"].action},"Расскажи обо мне.")))};t["default"]=(0,b.connect)(r,P.actions)(R)},358:function(e,t){function o(e,t){if(e.indexOf)return e.indexOf(t);for(var o=0,n=e.length;n>o;o++)if(e[o]===t)return o;return-1}function n(e){if(!(this instanceof n))return new n(e);e||(e={}),e.nodeType&&(e={el:e}),this.opts=e,this.el=e.el||document.body,"object"!=typeof this.el&&(this.el=document.querySelector(this.el))}e.exports=function(e){return new n(e)},n.prototype.add=function(e){var t=this.el;if(t){if(""===t.className)return t.className=e;var n=t.className.split(" ");return o(n,e)>-1?n:(n.push(e),t.className=n.join(" "),n)}},n.prototype.remove=function(e){var t=this.el;if(t&&""!==t.className){var n=t.className.split(" "),r=o(n,e);return r>-1&&n.splice(r,1),t.className=n.join(" "),n}},n.prototype.has=function(e){var t=this.el;if(t){var n=t.className.split(" ");return o(n,e)>-1}},n.prototype.toggle=function(e){var t=this.el;t&&(this.has(e)?this.remove(e):this.add(e))}},359:function(e,t,o){var n;/*!
	  Copyright (c) 2015 Jed Watson.
	  Based on code that is Copyright 2013-2015, Facebook, Inc.
	  All rights reserved.
	*/
!function(){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),s={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen};n=function(){return s}.call(t,o,t,e),!(void 0!==n&&(e.exports=n))}()},361:function(e,t){e.exports={photoPost:"Photopost__photoPost___39MsS",photoPostFeed:"Photopost__photoPostFeed___3M0rf",background:"Photopost__background____eLKY",removePhotoPost:"Photopost__removePhotoPost___3ONwg",photoText:"Photopost__photoText___SJcUC",text:"Photopost__text___d9uof",userPhoto:"Photopost__userPhoto___1kpzp",photoAvatar:"Photopost__photoAvatar___KxokT"}},362:function(e,t){e.exports={button:"SmileBox__button___3-HkY",list:"SmileBox__list___3_aM1",smile:"SmileBox__smile___zleK5"}},363:function(e,t){e.exports={wrap:"TextBox__wrap___1WY46",textBox:"TextBox__textBox___2y9Tw",placeHolder:"TextBox__placeHolder___GlGwz"}},368:function(e,t,o){function n(e,t){return null==t?e:r(t,s(t),e)}var r=o(370),s=o(369);e.exports=n},369:function(e,t,o){function n(e){return function(t){return null==t?void 0:t[e]}}function r(e){return null!=e&&a(y(e))}function s(e,t){return e="number"==typeof e||f.test(e)?+e:-1,t=null==t?v:t,e>-1&&e%1==0&&t>e}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&v>=e}function i(e){for(var t=l(e),o=t.length,n=o&&e.length,r=!!n&&a(n)&&(p(e)||d(e)),i=-1,u=[];++i<o;){var c=t[i];(r&&s(c,n)||m.call(e,c))&&u.push(c)}return u}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function l(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&a(t)&&(p(e)||d(e))&&t||0;for(var o=e.constructor,n=-1,r="function"==typeof o&&o.prototype===e,i=Array(t),l=t>0;++n<t;)i[n]=n+"";for(var c in e)l&&s(c,t)||"constructor"==c&&(r||!m.call(e,c))||i.push(c);return i}var c=o(227),d=o(183),p=o(228),f=/^\d+$/,h=Object.prototype,m=h.hasOwnProperty,_=c(Object,"keys"),v=9007199254740991,y=n("length"),b=_?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&r(e)?i(e):u(e)?_(e):[]}:i;e.exports=b},370:function(e,t){function o(e,t,o){o||(o={});for(var n=-1,r=t.length;++n<r;){var s=t[n];o[s]=e[s]}return o}e.exports=o},371:function(e,t){function o(e,t,o){if("function"!=typeof e)return n;if(void 0===t)return e;switch(o){case 1:return function(o){return e.call(t,o)};case 3:return function(o,n,r){return e.call(t,o,n,r)};case 4:return function(o,n,r,s){return e.call(t,o,n,r,s)};case 5:return function(o,n,r,s,a){return e.call(t,o,n,r,s,a)}}return function(){return e.apply(t,arguments)}}function n(e){return e}e.exports=o},372:function(e,t,o){function n(e){return a(function(t,o){var n=-1,a=null==t?0:o.length,i=a>2?o[a-2]:void 0,u=a>2?o[2]:void 0,l=a>1?o[a-1]:void 0;for("function"==typeof i?(i=r(i,l,5),a-=2):(i="function"==typeof l?l:void 0,a-=i?1:0),u&&s(o[0],o[1],u)&&(i=3>a?void 0:i,a=1);++n<a;){var c=o[n];c&&e(t,c,i)}return t})}var r=o(371),s=o(373),a=o(374);e.exports=n},373:function(e,t){function o(e){return function(t){return null==t?void 0:t[e]}}function n(e){return null!=e&&a(c(e))}function r(e,t){return e="number"==typeof e||u.test(e)?+e:-1,t=null==t?l:t,e>-1&&e%1==0&&t>e}function s(e,t,o){if(!i(o))return!1;var s=typeof t;if("number"==s?n(o)&&r(t,o.length):"string"==s&&t in o){var a=o[t];return e===e?e===a:a!==a}return!1}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&l>=e}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var u=/^\d+$/,l=9007199254740991,c=o("length");e.exports=s},374:function(e,t){function o(e,t){if("function"!=typeof e)throw new TypeError(n);return t=r(void 0===t?e.length-1:+t||0,0),function(){for(var o=arguments,n=-1,s=r(o.length-t,0),a=Array(s);++n<s;)a[n]=o[t+n];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,o[0],a);case 2:return e.call(this,o[0],o[1],a)}var i=Array(t+1);for(n=-1;++n<t;)i[n]=o[n];return i[t]=a,e.apply(this,i)}}var n="Expected a function",r=Math.max;e.exports=o},394:function(e,t,o){var n=o(1),r=o(13),s=o(359),a=n.createFactory(o(395)),i=o(396),u=o(358),l=o(13).unstable_renderSubtreeIntoContainer,c=o(231),d=s.canUseDOM?window.HTMLElement:{},p=s.canUseDOM?document.body:{appendChild:function(){}},f=n.createClass({displayName:"Modal",statics:{setAppElement:function(e){p=i.setElement(e)},injectCSS:function(){}},propTypes:{isOpen:n.PropTypes.bool.isRequired,style:n.PropTypes.shape({content:n.PropTypes.object,overlay:n.PropTypes.object}),appElement:n.PropTypes.instanceOf(d),onAfterOpen:n.PropTypes.func,onRequestClose:n.PropTypes.func,closeTimeoutMS:n.PropTypes.number,ariaHideApp:n.PropTypes.bool,shouldCloseOnOverlayClick:n.PropTypes.bool},getDefaultProps:function(){return{isOpen:!1,ariaHideApp:!0,closeTimeoutMS:0,shouldCloseOnOverlayClick:!0}},componentDidMount:function(){this.node=document.createElement("div"),this.node.className="ReactModalPortal",document.body.appendChild(this.node),this.renderPortal(this.props)},componentWillReceiveProps:function(e){this.renderPortal(e)},componentWillUnmount:function(){r.unmountComponentAtNode(this.node),document.body.removeChild(this.node),u(document.body).remove("ReactModal__Body--open")},renderPortal:function(e){e.isOpen?u(document.body).add("ReactModal__Body--open"):u(document.body).remove("ReactModal__Body--open"),e.ariaHideApp&&i.toggle(e.isOpen,e.appElement),this.portal=l(this,a(c({},e,{defaultStyles:f.defaultStyles})),this.node)},render:function(){return n.DOM.noscript()}});f.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},e.exports=f},395:function(e,t,o){var n=o(1),r=n.DOM.div,s=o(397),a=o(398),i=o(231),u={overlay:{base:"ReactModal__Overlay",afterOpen:"ReactModal__Overlay--after-open",beforeClose:"ReactModal__Overlay--before-close"},content:{base:"ReactModal__Content",afterOpen:"ReactModal__Content--after-open",beforeClose:"ReactModal__Content--before-close"}};e.exports=n.createClass({displayName:"ModalPortal",getDefaultProps:function(){return{style:{overlay:{},content:{}}}},getInitialState:function(){return{afterOpen:!1,beforeClose:!1}},componentDidMount:function(){this.props.isOpen&&(this.setFocusAfterRender(!0),this.open())},componentWillUnmount:function(){clearTimeout(this.closeTimer)},componentWillReceiveProps:function(e){!this.props.isOpen&&e.isOpen?(this.setFocusAfterRender(!0),this.open()):this.props.isOpen&&!e.isOpen&&this.close()},componentDidUpdate:function(){this.focusAfterRender&&(this.focusContent(),this.setFocusAfterRender(!1))},setFocusAfterRender:function(e){this.focusAfterRender=e},open:function(){s.setupScopedFocus(this.node),s.markForFocusLater(),this.setState({isOpen:!0},function(){this.setState({afterOpen:!0}),this.props.isOpen&&this.props.onAfterOpen&&this.props.onAfterOpen()}.bind(this))},close:function(){this.ownerHandlesClose()&&(this.props.closeTimeoutMS>0?this.closeWithTimeout():this.closeWithoutTimeout())},focusContent:function(){this.refs.content.focus()},closeWithTimeout:function(){this.setState({beforeClose:!0},function(){this.closeTimer=setTimeout(this.closeWithoutTimeout,this.props.closeTimeoutMS)}.bind(this))},closeWithoutTimeout:function(){this.setState({afterOpen:!1,beforeClose:!1},this.afterClose)},afterClose:function(){s.returnFocus(),s.teardownScopedFocus()},handleKeyDown:function(e){9==e.keyCode&&a(this.refs.content,e),27==e.keyCode&&(e.preventDefault(),this.requestClose(e))},handleOverlayClick:function(e){for(var t=e.target;t;){if(t===this.refs.content)return;t=t.parentNode}this.props.shouldCloseOnOverlayClick&&(this.ownerHandlesClose()?this.requestClose(e):this.focusContent())},requestClose:function(e){this.ownerHandlesClose()&&this.props.onRequestClose(e)},ownerHandlesClose:function(){return this.props.onRequestClose},shouldBeClosed:function(){return!this.props.isOpen&&!this.state.beforeClose},buildClassName:function(e,t){var o=u[e].base;return this.state.afterOpen&&(o+=" "+u[e].afterOpen),this.state.beforeClose&&(o+=" "+u[e].beforeClose),t?o+" "+t:o},render:function(){var e=this.props.className?{}:this.props.defaultStyles.content,t=this.props.overlayClassName?{}:this.props.defaultStyles.overlay;return this.shouldBeClosed()?r():r({ref:"overlay",className:this.buildClassName("overlay",this.props.overlayClassName),style:i({},t,this.props.style.overlay||{}),onClick:this.handleOverlayClick},r({ref:"content",style:i({},e,this.props.style.content||{}),className:this.buildClassName("content",this.props.className),tabIndex:"-1",onKeyDown:this.handleKeyDown},this.props.children))}})},396:function(e,t){function o(e){if("string"==typeof e){var t=document.querySelectorAll(e);e="length"in t?t[0]:t}return u=e||u}function n(e){a(e),(e||u).setAttribute("aria-hidden","true")}function r(e){a(e),(e||u).removeAttribute("aria-hidden")}function s(e,t){e?n(t):r(t)}function a(e){if(!e&&!u)throw new Error("react-modal: You must set an element with `Modal.setAppElement(el)` to make this accessible")}function i(){u=document.body}var u="undefined"!=typeof document?document.body:null;t.toggle=s,t.setElement=o,t.show=r,t.hide=n,t.resetForTesting=i},397:function(e,t,o){function n(e){u=!0}function r(e){if(u){if(u=!1,!a)return;setTimeout(function(){if(!a.contains(document.activeElement)){var e=s(a)[0]||a;e.focus()}},0)}}var s=o(230),a=null,i=null,u=!1;t.markForFocusLater=function(){i=document.activeElement},t.returnFocus=function(){try{i.focus()}catch(e){console.warn("You tried to return focus to "+i+" but it is not in the DOM anymore")}i=null},t.setupScopedFocus=function(e){a=e,window.addEventListener?(window.addEventListener("blur",n,!1),document.addEventListener("focus",r,!0)):(window.attachEvent("onBlur",n),document.attachEvent("onFocus",r))},t.teardownScopedFocus=function(){a=null,window.addEventListener?(window.removeEventListener("blur",n),document.removeEventListener("focus",r)):(window.detachEvent("onBlur",n),document.detachEvent("onFocus",r))}},398:function(e,t,o){var n=o(230);e.exports=function(e,t){var o=n(e);if(!o.length)return void t.preventDefault();var r=o[t.shiftKey?0:o.length-1],s=r===document.activeElement||e===document.activeElement;if(s){t.preventDefault();var a=o[t.shiftKey?o.length-1:0];a.focus()}}},399:function(e,t,o){e.exports=o(394)},400:369,452:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),s=n(r),a=o(3),i=n(a),u=o(4),l=n(u),c=o(6),d=n(c),p=o(5),f=n(p),h=o(1),m=n(h),_=o(25),v=n(_),y=o(847),b=n(y),P=o(10),g=o(172),k=v["default"].bind(b["default"]),T=function(e){function t(e){(0,i["default"])(this,t);var o=(0,d["default"])(this,(0,s["default"])(t).call(this,e));return o.state={active:o.props.isLiked||!1,count:o.props.count||0,object:o.props.object},o}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"toggle",value:function(){var e=0;e=this.state.active===!1?1:-1,this.setState({active:!this.state.active,count:this.state.count+e}),this.props.likePost(this.state.object,this.props.type),console.log(this.props)}},{key:"render",value:function(){var e=k({button:!0,inactive:!this.state.active,active:this.state.active||this.props.isLiked});return m["default"].createElement("div",{className:b["default"].like,onClick:this.toggle.bind(this)},m["default"].createElement("div",{className:b["default"].count},this.state.count>0&&this.state.count),m["default"].createElement("div",{className:e}))}}]),t}(h.Component);T.propTypes={count:h.PropTypes.number,object:h.PropTypes.string.isRequired,likePost:h.PropTypes.func.isRequired,isLiked:h.PropTypes.bool,type:h.PropTypes.string.isRequired};var x=function(e){return{}},C=function(e){return{likePost:function(t,o){return e((0,g.likePost)(t,o))}}};t["default"]=(0,P.connect)(x,C)(T)},553:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),s=n(r),a=o(3),i=n(a),u=o(4),l=n(u),c=o(6),d=n(c),p=o(5),f=n(p),h=o(1),m=n(h),_=o(159),v=n(_),y=o(25),b=n(y),P=o(16),g=o(17),k=o(573),T=n(k),x=o(254),C=n(x),E=o(452),M=n(E),N=b["default"].bind(v["default"]),w=function(e){function t(e){(0,i["default"])(this,t);var o=(0,d["default"])(this,(0,s["default"])(t).call(this,e));return o.state={isHot:(0,g.isHot)(o.props.created_at),deleted:!1},o}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return!0}},{key:"removeComment",value:function(e){this.props.removeComment(e),this.setState({deleted:!0})}},{key:"render",value:function(){var e=N({post:!0,comment:!0,hot:this.state.isHot,isLiked:this.state.isLiked}),t=this.props,o=t.text,n=t.created_at,r=t.id,s=t.likes,a=t.isLiked,i=t.user,u=t.loadUser;return this.state.deleted===!1?m["default"].createElement("div",null,m["default"].createElement("div",{className:e},m["default"].createElement("div",{className:v["default"].time},this.props.isYourPage&&m["default"].createElement("div",{className:v["default"].removeButton,onClick:this.removeComment.bind(this,r)})),m["default"].createElement(T["default"],{photo:i.photo,alias:i.alias,loadUser:u}),m["default"].createElement("div",{className:N(v["default"].text,v["default"].commentText)},m["default"].createElement("div",{className:v["default"].commentTime},m["default"].createElement(P.Link,{onClick:function(){return u(i.alias)},className:v["default"].commentAuthor,to:"/"+i.alias},i.username)," ",m["default"].createElement(C["default"],{time:n})),m["default"].createElement("span",{dangerouslySetInnerHTML:{__html:o}})),m["default"].createElement(M["default"],{count:s,object:r,isLiked:a,type:"comment"}))):m["default"].createElement("div",{className:v["default"].removeComment},"Комментарий был успешно удалён.")}}]),t}(h.Component);w.propTypes={text:h.PropTypes.string.isRequired,created_at:h.PropTypes.string.isRequired,id:h.PropTypes.string.isRequired,likes:h.PropTypes.number,attachments:h.PropTypes.object,isLiked:h.PropTypes.bool,isYourPage:h.PropTypes.bool.isRequired,user:h.PropTypes.object.isRequired,loadUser:h.PropTypes.func.isRequired,removeComment:h.PropTypes.func.isRequired},t["default"]=w},554:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),s=n(r),a=o(3),i=n(a),u=o(4),l=n(u),c=o(6),d=n(c),p=o(5),f=n(p),h=o(1),m=n(h),_=o(846),v=n(_),y=o(35),b=n(y),P=o(10),g=o(309),k=function(e){function t(){(0,i["default"])(this,t);var e=(0,d["default"])(this,(0,s["default"])(t).call(this));return e.state={selected:!1},e}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"focus",value:function(){this.setState({selected:!0})}},{key:"blur",value:function(){var e=this;setTimeout(function(){e.setState({selected:!1})},200)}},{key:"postComment",value:function(){this.props.postComment(this.input.value,this.props.post_id),this.input.value=""}},{key:"render",value:function(){var e=this;return m["default"].createElement("div",{className:v["default"].form,onFocus:function(){return e.focus()},onBlur:function(){return e.blur()}},m["default"].createElement("input",{className:(0,b["default"])("input",v["default"].input),placeholder:"Написать комментарий..",ref:function(t){return e.input=t}}),this.state.selected&&m["default"].createElement("div",{className:v["default"].button,onClick:this.postComment.bind(this)},"Отправить"))}}]),t}(h.Component);k.propTypes={postComment:h.PropTypes.func.isRequired,post_id:h.PropTypes.string.isRequired};var T=function(e){return{}},x=function(e){return{postComment:function(t,o){return e((0,g.postComment)(t,o))}}};t["default"]=(0,P.connect)(T,x)(k)},555:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(206),s=n(r),a=o(2),i=n(a),u=o(3),l=n(u),c=o(4),d=n(c),p=o(6),f=n(p),h=o(5),m=n(h),_=o(1),v=n(_),y=o(17),b=o(10),P=o(26),g=o(309),k=o(553),T=n(k),x=function(e){function t(){return(0,l["default"])(this,t),(0,f["default"])(this,(0,i["default"])(t).apply(this,arguments))}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return 0===e.comments.length?!1:!(0,y.arraysEqual)(e.comments,this.props.comments)}},{key:"render",value:function(){var e=this.props.comments,t=this.props,o=t.isYourPage,n=t.loadUser,r=t.removeComment;return e&&!(0,y.isEmpty)(e)&&Array.isArray(e)?v["default"].createElement("div",null,e.map(function(e){return v["default"].createElement(T["default"],(0,s["default"])({key:e._id,id:e._id,isYourPage:o,loadUser:n,removeComment:r},e))})):null}}]),t}(_.Component);x.propTypes={comments:_.PropTypes.array,isYourPage:_.PropTypes.bool.isRequired,loadUser:_.PropTypes.func.isRequired,removeComment:_.PropTypes.func.isRequired};var C=function(e){return{}},E=function(e){return{loadUser:function(t){return e((0,P.loadUser)(t))},removeComment:function(t){return e((0,g.removeComment)(t))}}};t["default"]=(0,b.connect)(C,E)(x)},564:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),s=n(r),a=o(3),i=n(a),u=o(4),l=n(u),c=o(6),d=n(c),p=o(5),f=n(p),h=o(1),m=n(h),_=o(17),v=o(308),y=n(v),b=o(130),P=n(b),g=o(16),k=function(e){function t(){return(0,i["default"])(this,t),(0,d["default"])(this,(0,s["default"])(t).apply(this,arguments))}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"componentWillMount",value:function(){this.setState({isOpen:!1})}},{key:"toggleModalBox",value:function(){this.state.isOpen?(this.setState({isOpen:!1}),(0,_.hideBlocks)(!1)):(this.setState({isOpen:!0}),(0,_.hideBlocks)(!0))}},{key:"render",value:function(){var e=this.props,t=e.count,o=e.username,n=e.alias,r=(0,_.ending)(t,["мнение","мнения","мнений"]);return o||(o="Пользователь"),m["default"].createElement("div",{className:P["default"].blockTitle},m["default"].createElement("div",{className:P["default"].postsUser},m["default"].createElement(g.Link,{to:"/"+n,className:P["default"].navLink},o),m["default"].createElement("span",{className:P["default"].separator}),m["default"].createElement("span",{className:P["default"].navItem},t," ",r)),m["default"].createElement("span",{className:P["default"].blockTitleRight,onClick:this.toggleModalBox.bind(this)},"Оставить мнение"),m["default"].createElement(y["default"],{isOpen:this.state.isOpen,toggleModalBox:this.toggleModalBox.bind(this)}))}}]),t}(h.Component);k.propTypes={count:h.PropTypes.number.isRequired,username:h.PropTypes.string.isRequired,alias:h.PropTypes.string.isRequired},t["default"]=k},569:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),s=n(r),a=o(3),i=n(a),u=o(4),l=n(u),c=o(6),d=n(c),p=o(5),f=n(p),h=o(1),m=n(h),_=o(131),v=n(_),y=o(34),b=n(y),P=function(e){function t(){return(0,i["default"])(this,t),(0,d["default"])(this,(0,s["default"])(t).apply(this,arguments))}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this.props.isAuthenticated;return e?m["default"].createElement("div",{className:v["default"].noData},m["default"].createElement(b["default"],{content:"NoData.NoPosts.authenticated"})):m["default"].createElement("div",{className:v["default"].noData},m["default"].createElement(b["default"],{content:"NoData.NoPosts.not_authenticated"}))}}]),t}(h.Component);P.propTypes={isAuthenticated:h.PropTypes.bool.isRequired},t["default"]=P},570:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),s=n(r),a=o(3),i=n(a),u=o(4),l=n(u),c=o(6),d=n(c),p=o(5),f=n(p),h=o(1),m=n(h),_=o(361),v=n(_),y=o(31),b=function(e){function t(){return(0,i["default"])(this,t),(0,d["default"])(this,(0,s["default"])(t).apply(this,arguments))}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"render",value:function(){var e=this;return m["default"].createElement("div",null,m["default"].createElement("div",{className:v["default"].photoPost},this.props.isYourPage&&m["default"].createElement("div",{className:v["default"].removePhotoPost,onClick:function(){return e.props.removePost(e.props.id)}}),m["default"].createElement("div",{className:v["default"].photoText},m["default"].createElement("div",{className:v["default"].text,dangerouslySetInnerHTML:{__html:this.props.text}}))),m["default"].createElement("div",{className:v["default"].background,style:{background:"url("+y.config.http+"/upload/photo/"+this.props.photo+")"}}))}}]),t}(h.Component);b.propTypes={isYourPage:h.PropTypes.bool.isRequired,removePost:h.PropTypes.func.isRequired,photo:h.PropTypes.string.isRequired,text:h.PropTypes.string.isRequired,id:h.PropTypes.string.isRequired},t["default"]=b},572:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),s=n(r),a=o(3),i=n(a),u=o(4),l=n(u),c=o(6),d=n(c),p=o(5),f=n(p),h=o(1),m=n(h),_=o(452),v=n(_),y=o(159),b=n(y),P=o(25),g=n(P),k=o(554),T=n(k),x=o(570),C=n(x),E=o(254),M=n(E),N=o(294),w=n(N),O=o(555),R=n(O),S=o(17),q=g["default"].bind(b["default"]),L=function(e){function t(e){(0,i["default"])(this,t);var o=(0,d["default"])(this,(0,s["default"])(t).call(this,e));return o.state={isHot:(0,S.isHot)(o.props.created_at),showCommentForm:!1},o}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"openCommentForm",value:function(){this.setState({showCommentForm:!this.state.showCommentForm}),this.forceUpdate()}},{key:"render",value:function(){var e,t=this,o=q({post:!0,hotYellow:this.state.isHot,isLiked:this.state.isLiked});return e=!(!this.props.attachments||!this.props.attachments.photo||void 0===this.props.attachments.photo),m["default"].createElement("div",{className:b["default"].first},!e&&m["default"].createElement("div",{className:o,onClick:this.openCommentForm.bind(this)},m["default"].createElement("div",{className:b["default"].time},m["default"].createElement("span",{className:q({hideOnHover:this.props.isYourPage})},m["default"].createElement(M["default"],{time:this.props.created_at})),this.props.isYourPage&&m["default"].createElement("div",{className:b["default"].removeButton,onClick:function(){return t.props.removePost(t.props.id)}})),m["default"].createElement(w["default"],{text:this.props.text}),m["default"].createElement(v["default"],{count:this.props.likes,object:this.props.id,isLiked:this.props.isLiked,type:"post"})),e&&m["default"].createElement(C["default"],{id:this.props.id,isYourPage:this.props.isYourPage,removePost:this.props.removePost,photo:this.props.attachments.photo,text:this.props.text}),m["default"].createElement(R["default"],{comments:this.props.comments,isYourPage:this.props.isYourPage}),this.state.showCommentForm&&m["default"].createElement(T["default"],{post_id:this.props.id}))}}]),t}(h.Component);L.propTypes={text:h.PropTypes.string.isRequired,created_at:h.PropTypes.string.isRequired,id:h.PropTypes.string.isRequired,likes:h.PropTypes.number,attachments:h.PropTypes.object,isLiked:h.PropTypes.bool,comments:h.PropTypes.array,isYourPage:h.PropTypes.bool.isRequired,removePost:m["default"].PropTypes.func.isRequired},t["default"]=L},573:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),s=n(r),a=o(3),i=n(a),u=o(4),l=n(u),c=o(6),d=n(c),p=o(5),f=n(p),h=o(1),m=n(h),_=o(159),v=n(_),y=o(17),b=o(16),P=function(e){function t(){return(0,i["default"])(this,t),(0,d["default"])(this,(0,s["default"])(t).apply(this,arguments))}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"shouldComponentUpdate",value:function(){return!0}},{key:"render",value:function(){var e=(0,y.isValidPhoto)(this.props.photo),t={link:{border:"0px"}},o=this.props,n=o.alias,r=o.loadUser;return m["default"].createElement("div",{className:v["default"].time,style:{marginRight:"15px"}},m["default"].createElement(b.Link,{to:"/"+n,style:t.link,onClick:function(){return r(n)}},m["default"].createElement("img",{src:e,className:v["default"].photo})))}}]),t}(h.Component);P.propTypes={photo:m["default"].PropTypes.string.isRequired,alias:m["default"].PropTypes.string.isRequired,loadUser:h.PropTypes.func.isRequired},t["default"]=P},574:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{posts:e.posts,count:e.user.stats.posts,isAuthenticated:e.auth.authenticated,isYourPage:e.auth.isYourPage,isFetching:e.isFetching.posts,isFetchingLoadMore:e.isFetching.loadMorePosts,username:e.user.username,alias:e.user.alias}}Object.defineProperty(t,"__esModule",{value:!0});var s=o(2),a=n(s),i=o(3),u=n(i),l=o(4),c=n(l),d=o(6),p=n(d),f=o(5),h=n(f),m=o(1),_=n(m),v=o(848),y=n(v),b=o(572),P=n(b),g=o(17),k=o(10),T=o(172),x=o(67),C=n(x),E=o(569),M=n(E),N=o(564),w=n(N),O=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,(0,a["default"])(t).apply(this,arguments))}return(0,h["default"])(t,e),(0,c["default"])(t,[{key:"componentWillMount",value:function(){this.setState({count:this.props.count,postsLoaded:25,height:200})}},{key:"componentWillUpdate",value:function(e){return this.props.posts[0]&&e.posts[0]?this.props.posts[0]._id!==e.posts[0]._id:!1}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e,t=this,o=this,n=this.props.posts;return n&&!(0,g.isEmpty)(n)&&Array.isArray(n)&&(e=n.map(function(e){return _["default"].createElement(P["default"],{key:e._id,created_at:e.created_at,text:e.text,id:e._id,likes:e.likes,attachments:e.attachments,comments:e.comments,isLiked:e.isLiked,isYourPage:o.props.isYourPage,removePost:o.props.removePost})})),_["default"].createElement("div",{className:"container--right padding-0",id:"right"},_["default"].createElement(w["default"],{count:this.props.count,username:this.props.username,alias:this.props.alias}),this.props.isFetching&&_["default"].createElement(C["default"],null),!this.props.isFetching&&_["default"].createElement("div",null,0===this.props.count&&_["default"].createElement(M["default"],{isAuthenticated:this.props.isAuthenticated}),this.props.count>0&&e),this.props.count>10&&this.props.count>this.state.postsLoaded&&_["default"].createElement("div",{className:y["default"].loadMore,onClick:function(){t.props.loadMorePosts(t.state.postsLoaded),t.setState({postsLoaded:t.state.postsLoaded+10})}},this.props.isFetchingLoadMore&&"Загрузка...",!this.props.isFetchingLoadMore&&"Загрузить ещё"))}}]),t}(m.Component);O.propTypes={count:m.PropTypes.number.isRequired,posts:m.PropTypes.array.isRequired,loadPosts:m.PropTypes.func.isRequired,endlessLoad:m.PropTypes.func.isRequired,loadMorePosts:m.PropTypes.func.isRequired,isFetching:m.PropTypes.bool.isRequired,isFetchingLoadMore:m.PropTypes.bool.isRequired,isAuthenticated:m.PropTypes.bool.isRequired,username:m.PropTypes.string.isRequired,alias:m.PropTypes.string.isRequired,isYourPage:m.PropTypes.bool.isRequired},t["default"]=(0,k.connect)(r,T.actions)(O)},846:function(e,t){e.exports={form:"CommentForm__form___3L5NA",input:"CommentForm__input___2lTaw",button:"CommentForm__button___2sK7x"}},847:function(e,t){e.exports={like:"Like__like___7-bwR",count:"Like__count___SFYc5",button:"Like__button___3yx0W",inactive:"Like__inactive___8ECus",active:"Like__active___3UBWV"}},848:function(e,t){e.exports={header:"Posts__header___3XtBE",counter:"Posts__counter___MzhrB",favourite:"Posts__favourite___1LFBx",loadMore:"Posts__loadMore___3-mtq"}}});